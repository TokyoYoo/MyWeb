<!-- views/admin/edit-link.ejs -->
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %> - Apologize</title>
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <div class="container">
    <header class="admin-header">
      <div class="logo">
        <a href="/admin/dashboard">Apologize Admin</a>
      </div>
      <div class="admin-nav">
        <a href="/admin/dashboard" class="btn btn-sm">กลับไป Dashboard</a>
        <a href="/admin/logout" class="btn btn-sm btn-outline">ออกจากระบบ</a>
      </div>
    </header>

    <main class="edit-link-page">
      <h1>แก้ไขลิงก์</h1>
      
      <% if (typeof error !== 'undefined') { %>
        <div class="alert alert-danger">
          <%= error %>
        </div>
      <% } %>
      
      <form action="/admin/edit/<%= mod._id %>?_method=PUT" method="POST" class="edit-link-form">
        <div class="form-group">
          <label for="name">ชื่อมอด *</label>
          <input type="text" id="name" name="name" value="<%= mod.name %>" required>
        </div>
        
        <div class="form-group">
          <label for="originalLink">ลิงก์มอดต้นฉบับ *</label>
          <input type="url" id="originalLink" name="originalLink" value="<%= mod.originalLink %>" required>
        </div>
        
        <div class="form-group">
          <label for="image">ลิงก์รูปภาพ (ไม่บังคับ)</label>
          <input type="url" id="image" name="image" value="<%= mod.image %>">
          <small>หากไม่ใส่ จะใช้รูปภาพเริ่มต้น</small>
        </div>
        
        <div class="form-group">
          <label>Short ID</label>
          <p class="form-static-text"><%= mod.shortId %></p>
          <small>URL ของลิงก์: <a href="/mod/<%= mod.shortId %>" target="_blank">https://yourdomain.com/mod/<%= mod.shortId %></a></small>
        </div>
        
        <div class="form-group">
          <label>สถิติ</label>
          <div class="stats-grid">
            <div class="stat-item">
              <span class="stat-label">คลิก:</span>
              <span class="stat-value"><%= mod.clicks %></span>
            </div>
            <div class="stat-item">
              <span class="stat-label">ดาวน์โหลด:</span>
              <span class="stat-value"><%= mod.completedClicks %></span>
            </div>
            <div class="stat-item">
              <span class="stat-label">สร้างเมื่อ:</span>
              <span class="stat-value"><%= new Date(mod.createdAt).toLocaleString() %></span>
            </div>
          </div>
        </div>
        
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">บันทึกการแก้ไข</button>
        </div>
      </form>
    </main>

    <footer>
      <p>&copy; <%= new Date().getFullYear() %> Free Mod. All rights reserved.</p>
    </footer>
  </div>
</body>
</html>